<p align="center">
  <img src="https://img.icons8.com/color/96/000000/plant-under-sun--v1.png" alt="CropAI Logo"/>
</p>

<h1 align="center">ðŸŒ¾ AI-Powered Crop Recommendation System</h1>

<p align="center">
  <strong>Explainable AI â€¢ Economic Analysis â€¢ Smart Crop Rotation</strong>
</p>

<p align="center">
  <a href="#features"><img src="https://img.shields.io/badge/Features-5%20Innovations-success?style=for-the-badge" alt="Features"/></a>
  <a href="#tech-stack"><img src="https://img.shields.io/badge/Python-3.11+-blue?style=for-the-badge&logo=python&logoColor=white" alt="Python"/></a>
  <a href="#accuracy"><img src="https://img.shields.io/badge/Accuracy-98.5%25-brightgreen?style=for-the-badge" alt="Accuracy"/></a>
  <a href="#license"><img src="https://img.shields.io/badge/License-MIT-yellow?style=for-the-badge" alt="License"/></a>
</p>

<p align="center">
  <a href="https://flask.palletsprojects.com/"><img src="https://img.shields.io/badge/Flask-3.0-black?style=flat-square&logo=flask" alt="Flask"/></a>
  <a href="https://scikit-learn.org/"><img src="https://img.shields.io/badge/scikit--learn-1.5+-orange?style=flat-square&logo=scikit-learn" alt="scikit-learn"/></a>
  <a href="https://xgboost.readthedocs.io/"><img src="https://img.shields.io/badge/XGBoost-2.0+-blue?style=flat-square" alt="XGBoost"/></a>
  <a href="https://shap.readthedocs.io/"><img src="https://img.shields.io/badge/SHAP-Explainable%20AI-purple?style=flat-square" alt="SHAP"/></a>
  <a href="https://render.com/"><img src="https://img.shields.io/badge/Deploy-Render-46E3B7?style=flat-square&logo=render" alt="Render"/></a>
</p>

---

## ðŸŽ¯ What Makes This Project Unique?

<table>
<tr>
<td width="50%">

### ðŸ§  Explainable AI (XAI)
Unlike black-box ML models, our system provides **SHAP-based explanations** that tell farmers *why* a crop is recommended.

> *"Rice is recommended because: High Rainfall (+35%), Suitable Temperature (+28%), Optimal pH (+22%)"*

</td>
<td width="50%">

### ðŸ’° Economic Viability Analysis
Go beyond predictions with **ROI calculations**, market price integration, and profit projections per acre.

> *"ROI: 145% | Profit: â‚¹32,000/acre | Risk: Low"*

</td>
</tr>
<tr>
<td width="50%">

### ðŸ”„ Smart Crop Rotation
AI-powered **multi-season rotation planning** for sustainable farming and soil health preservation.

> *"Season 1: Rice â†’ Season 2: Wheat â†’ Season 3: Mung Bean (Soil Recovery)"*

</td>
<td width="50%">

### ðŸ† Stacking Ensemble Model
Combines **Random Forest + XGBoost + LightGBM** with a meta-learner for industry-leading 98.5% accuracy.

> *"Outperforms single models by 2-3% through intelligent model stacking"*

</td>
</tr>
</table>

---

## ðŸ“Š Key Statistics

<p align="center">
  <img src="https://img.shields.io/badge/Crops%20Supported-22-green?style=for-the-badge" alt="Crops"/>
  <img src="https://img.shields.io/badge/ML%20Models-9-blue?style=for-the-badge" alt="Models"/>
  <img src="https://img.shields.io/badge/Accuracy-98.5%25-brightgreen?style=for-the-badge" alt="Accuracy"/>
  <img src="https://img.shields.io/badge/Engineered%20Features-39-orange?style=for-the-badge" alt="Features"/>
</p>

---

## ðŸ”¬ Research Gap Analysis

This project addresses **5 major gaps** in existing crop recommendation systems:

| Gap | Existing Systems | Our Solution |
|-----|-----------------|--------------|
| âŒ No Explainability | Black-box predictions | âœ… SHAP-based XAI with feature contributions |
| âŒ No Economic Analysis | Only agronomic factors | âœ… ROI, profit margins, market price integration |
| âŒ No Rotation Planning | Single crop focus | âœ… Multi-season sustainable rotation |
| âŒ Static Datasets | Outdated information | âœ… Live market data integration |
| âŒ No Regional Context | Generic recommendations | âœ… India-specific with MSP and seasonal data |

---

# **AI-Powered Crop Recommendation System with Explainable AI and Economic Analysis**

## **Complete Project Description**

### **Project Title**
Intelligent Crop Recommendation System with Explainability, Multi-Season Planning, and Economic Viability Analysis for Sustainable Agriculture

### **Project Overview**
This semester project develops an advanced crop recommendation system that goes beyond traditional ML predictions by incorporating:
1. **Explainable AI (XAI)** - SHAP-based explanations for farmer trust
2. **Economic Viability Analysis** - Market price integration and profit calculation
3. **Multi-Season Crop Rotation Planning** - Sustainable agriculture recommendations
4. **Ensemble ML Models** - Stacking Random Forest, XGBoost, and LightGBM
5. **Interactive Web Dashboard** - Flask-based application with visualizations

**Alignment with Research Gaps:** Addresses 5 major gaps identified in existing literature - no XAI implementation, no economic analysis, no crop rotation planning, static datasets, and lack of regional customization.

***

## **Technology Stack**

### **Backend (Web Application Only)**
- **Flask 3.0** - Web framework
- **Python 3.10+** - Core programming language

### **Machine Learning & Data Science** (Jupyter Notebooks - Aligned with Syllabus Units I-IV)
- **Pandas** - Data manipulation (Unit I)
- **NumPy** - Numerical operations
- **scikit-learn** - ML algorithms (Unit III, IV)
- **XGBoost** - Gradient boosting (Unit IV)
- **LightGBM** - Ensemble learning
- **SHAP** - Explainable AI

### **Data Visualization** (Unit II)
- **Matplotlib** - Basic plotting
- **Seaborn** - Statistical visualizations
- **Plotly** - Interactive charts

### **Frontend (Python Only)**
- **HTML5/CSS3/Bootstrap 5** - UI framework
- **JavaScript** - Client-side interactivity
- **Chart.js** - Dashboard visualizations

### **Deployment**
- **Pickle** - Model serialization
- **Gunicorn** - WSGI server

***

## **ðŸ“ Project Folder Structure**

```
AI-Powered Crop Recommendation System/
â”‚
â”œâ”€â”€ ðŸ““ notebooks/                          # Jupyter Notebooks (16 files)
â”‚   â”œâ”€â”€ 1.Data Collection and Loading.ipynb
â”‚   â”œâ”€â”€ 2.Data Cleaning and Preprocessing.ipynb
â”‚   â”œâ”€â”€ 3.Exploratory Data Analysis.ipynb
â”‚   â”œâ”€â”€ 4.Feature Engineering.ipynb
â”‚   â”œâ”€â”€ 5.Train Test Split and Preparation.ipynb
â”‚   â”œâ”€â”€ 6.Model Training Logistic Regression.ipynb
â”‚   â”œâ”€â”€ 7.Model Training Decision Tree.ipynb
â”‚   â”œâ”€â”€ 8.Model Training Random Forest.ipynb
â”‚   â”œâ”€â”€ 9.Model Training SVM.ipynb
â”‚   â”œâ”€â”€ 10.XGBoost and LightGBM.ipynb
â”‚   â”œâ”€â”€ 11.Stacking Ensemble Model.ipynb
â”‚   â”œâ”€â”€ 12.Model Comparison and Selection.ipynb
â”‚   â”œâ”€â”€ 13.Explainable AI with SHAP.ipynb
â”‚   â”œâ”€â”€ 14.Economic Viability Analysis.ipynb
â”‚   â”œâ”€â”€ 15.Crop Rotation Planning.ipynb
â”‚   â””â”€â”€ 16.Final Pipeline and Export.ipynb
â”‚
â”œâ”€â”€ ðŸ“Š data/
â”‚   â”œâ”€â”€ raw/                               # Original datasets
â”‚   â”‚   â”œâ”€â”€ Crop_recommendation.csv        # Kaggle dataset (2200 rows)
â”‚   â”‚   â”œâ”€â”€ Crop and fertilizer dataset.csv
â”‚   â”‚   â”œâ”€â”€ crop-area-and-production.xlsx
â”‚   â”‚   â”œâ”€â”€ rotation_rules.csv
â”‚   â”‚   â””â”€â”€ Season_Price_Arrival_*.csv     # Market price data
â”‚   â”‚
â”‚   â”œâ”€â”€ processed/                         # Cleaned & transformed data
â”‚   â”‚   â”œâ”€â”€ cleaned_data.csv
â”‚   â”‚   â”œâ”€â”€ engineered_features.csv
â”‚   â”‚   â”œâ”€â”€ X_train.csv, X_test.csv
â”‚   â”‚   â””â”€â”€ y_train.csv, y_test.csv
â”‚   â”‚
â”‚   â”œâ”€â”€ results/                           # Analysis outputs
â”‚   â”‚   â”œâ”€â”€ model_comparison.csv
â”‚   â”‚   â”œâ”€â”€ feature_importance.csv
â”‚   â”‚   â””â”€â”€ economic_analysis.csv
â”‚   â”‚
â”‚   â””â”€â”€ visualizations/                    # Generated plots
â”‚
â”œâ”€â”€ ðŸ¤– models/                              # Saved ML Models
â”‚   â”œâ”€â”€ ensemble/
â”‚   â”‚   â””â”€â”€ stacking_ensemble.pkl          # â­ Final Model (14 MB)
â”‚   â”‚
â”‚   â”œâ”€â”€ boosting_models/
â”‚   â”‚   â”œâ”€â”€ xgboost_model.pkl
â”‚   â”‚   â””â”€â”€ lightgbm_model.pkl
â”‚   â”‚
â”‚   â”œâ”€â”€ explainers/
â”‚   â”‚   â”œâ”€â”€ shap_explainer.pkl             # SHAP TreeExplainer
â”‚   â”‚   â”œâ”€â”€ shap_values.npy
â”‚   â”‚   â””â”€â”€ shap_sample_indices.npy
â”‚   â”‚
â”‚   â”œâ”€â”€ metadata/
â”‚   â”‚   â”œâ”€â”€ model_metrics.json
â”‚   â”‚   â”œâ”€â”€ feature_names.json
â”‚   â”‚   â”œâ”€â”€ crop_labels.json
â”‚   â”‚   â”œâ”€â”€ deployment_info.json
â”‚   â”‚   â””â”€â”€ best_model_info.pkl
â”‚   â”‚
â”‚   â”œâ”€â”€ random_forest_model.pkl
â”‚   â”œâ”€â”€ decision_tree_model.pkl
â”‚   â”œâ”€â”€ logistic_regression_model.pkl
â”‚   â”œâ”€â”€ svm_model.pkl
â”‚   â”œâ”€â”€ scaler_standard.pkl
â”‚   â”œâ”€â”€ scaler_minmax.pkl
â”‚   â”œâ”€â”€ label_encoder.pkl
â”‚   â”œâ”€â”€ economic_analyzer.pkl
â”‚   â”œâ”€â”€ rotation_planner.pkl
â”‚   â””â”€â”€ rotation_support_data.pkl
â”‚
â”œâ”€â”€ ðŸŒ webapp/                              # Flask Web Application
â”‚   â”œâ”€â”€ app.py                             # Main Flask app
â”‚   â”œâ”€â”€ utils.py                           # Utility functions
â”‚   â”œâ”€â”€ prediction.py                      # Prediction logic
â”‚   â”œâ”€â”€ explainability.py                  # SHAP explanations
â”‚   â”œâ”€â”€ economic.py                        # Economic analysis
â”‚   â”œâ”€â”€ rotation.py                        # Crop rotation planning
â”‚   â”œâ”€â”€ pdf_report.py                      # PDF export
â”‚   â”‚
â”‚   â”œâ”€â”€ templates/                         # HTML Templates (Jinja2)
â”‚   â”‚   â”œâ”€â”€ base.html                      # Base layout
â”‚   â”‚   â”œâ”€â”€ index.html                     # Landing page
â”‚   â”‚   â”œâ”€â”€ input_form.html                # Prediction form
â”‚   â”‚   â”œâ”€â”€ results.html                   # Prediction results
â”‚   â”‚   â”œâ”€â”€ explanation.html               # SHAP visualizations
â”‚   â”‚   â”œâ”€â”€ economic_dashboard.html        # Economic analysis
â”‚   â”‚   â”œâ”€â”€ rotation_plan.html             # Rotation planning
â”‚   â”‚   â”œâ”€â”€ comparison.html                # Crop comparison
â”‚   â”‚   â”œâ”€â”€ model_dashboard.html           # Model metrics
â”‚   â”‚   â”œâ”€â”€ about.html                     # About page
â”‚   â”‚   â””â”€â”€ error.html                     # Error page
â”‚   â”‚
â”‚   â””â”€â”€ static/                            # Static assets
â”‚       â”œâ”€â”€ css/                           # Stylesheets
â”‚       â”œâ”€â”€ js/                            # JavaScript
â”‚       â””â”€â”€ images/                        # Images & SHAP plots
â”‚
â”œâ”€â”€ ðŸ“„ docs/                                # Documentation
â”‚   â”œâ”€â”€ project_report/
â”‚   â”œâ”€â”€ presentation/
â”‚   â””â”€â”€ api_documentation.md
â”‚
â”œâ”€â”€ ðŸ§ª tests/                               # Unit tests
â”‚
â”œâ”€â”€ âš™ï¸ config/                              # Configuration
â”‚
â”œâ”€â”€ ðŸ“¦ requirements.txt                     # Development dependencies
â”œâ”€â”€ ðŸ“¦ requirements-prod.txt                # Production dependencies
â”œâ”€â”€ ðŸš€ render.yaml                          # Render deployment config
â”œâ”€â”€ ðŸš€ Procfile                             # Process file for deployment
â”œâ”€â”€ ðŸ“‹ runtime.txt                          # Python version (3.11.6)
â”œâ”€â”€ ðŸ“ README.md                            # This file
â”œâ”€â”€ ðŸ”’ .gitignore                           # Git ignore rules
â””â”€â”€ ðŸ““ app.ipynb                            # Quick demo notebook
```
***

## **Required Datasets with Sources**

### **1. Base Crop Recommendation Dataset** â­ PRIMARY
**Source:** Kaggle - Crop Recommendation Dataset
```
Direct Link: https://www.kaggle.com/datasets/atharvaingle/crop-recommendation-dataset
Features: N, P, K, temperature, humidity, pH, rainfall, label
Crops: 22 (Rice, Wheat, Maize, Cotton, Jute, etc.)
Size: 2,200 rows Ã— 8 columns
Format: CSV
File: data/raw/crop_recommendation.csv

Download: Click "Download" on Kaggle page
```

### **2. Market Price Dataset**
**Source:** Government of India - Agmarknet Portal
```
Option 1 (Recommended): Manual compilation
- Visit: https://agmarknet.gov.in/
- Navigate: Price & Arrivals â†’ Commodity Wise Daily Prices
- Download: Monthly reports for major crops
- Compile: Aggregate into single CSV

Option 2: data.gov.in
- URL: https://data.gov.in/
- Search: "agricultural prices" or "APMC prices"
- Download: Available CSV files

Required Columns:
- Crop, State, Date, Modal_Price, Min_Price, Max_Price, Unit

File: data/raw/crop_prices.csv
Expected Size: 500-1000 rows (monthly data for 1-2 years)
```

### **3. Crop Rotation Knowledge Base**
**Source:** Create manually from agricultural research
```
Reference: Indian Council of Agricultural Research (ICAR)
URL: https://icar.org.in/

Create CSV with columns:
Crop1, Crop2, Season1, Season2, Compatibility_Score, Soil_Impact

Example entries:
Rice,Wheat,Kharif,Rabi,0.9,Neutral
Wheat,Mung Bean,Rabi,Kharif,0.85,Positive
Cotton,Chickpea,Kharif,Rabi,0.75,Neutral
Maize,Groundnut,Kharif,Kharif,0.6,Negative

File: data/raw/rotation_rules.csv
Size: 50-100 rotation combinations
```



### **Quick Dataset Download Summary**

| Dataset | Source | Action | Priority |
|---------|--------|--------|----------|
| Crop Recommendation | Kaggle | Download directly | **MUST HAVE** |
| Market Prices | Agmarknet | Manual compilation | **SHOULD HAVE** |
| Rotation Rules | Self-created | Create from research | **SHOULD HAVE** |

***

## **Jupyter Notebooks Detailed Breakdown**

### **Notebook 01: Data Collection and Loading** (Week 1)
```python
# Content Overview:
- Import pandas, numpy
- Load crop_recommendation.csv
- Explore DataFrame structure (.info(), .describe(), .head())
- Check data types and missing values
- Load additional datasets (prices, rotation rules)
- Save to processed/ folder

# Key Learning: Unit I - Pandas basics, data loading
```

### **Notebook 02: Data Cleaning and Preprocessing** (Week 1-2)
```python
# Content Overview:
- Check for missing values (isnull().sum())
- Handle missing data (dropna(), fillna() with mean/median)
- Remove duplicates (drop_duplicates())
- Outlier detection using IQR method
- Box plots for outlier visualization
- Data type conversions
- Save cleaned_data.csv

# Key Learning: Unit I - Data cleansing, handling missing data
```

### **Notebook 03: Exploratory Data Analysis** (Week 2)
```python
# Content Overview:
- Matplotlib visualizations:
  * Histograms for feature distributions
  * Scatter plots (N vs P, Temp vs Humidity)
  * Bar plots for crop frequency
- Seaborn visualizations:
  * Correlation heatmap
  * Box plots for outliers
  * Pair plots for feature relationships
  * Violin plots for distributions
- Statistical summaries (mean, median, std)
- Save EDA insights

# Key Learning: Unit II - Matplotlib, Seaborn plotting
```

### **Notebook 04: Feature Engineering** (Week 3)
```python
# Content Overview:
- Create new features:
  * NPK_ratio = N / (P + K)
  * Temp_Humidity_Index = Temperature / Humidity
  * Nutrient_Balance = (N + P + K) / 3
- Data aggregation (groupby crop â†’ mean values)
- Merge datasets (crop data + prices)
- Categorical encoding (LabelEncoder for crops)
- Save engineered_features.csv

# Key Learning: Unit I - Data transformation, aggregation, merging
```

### **Notebook 05: Statistical Analysis** (Week 3)
```python
# Content Overview:
- Descriptive statistics (describe())
- Correlation analysis (corr())
- Covariance matrix
- ANOVA test for feature significance
- Chi-square test for categorical relationships
- T-test for group comparisons
- Feature selection based on p-values
- Save statistical_results.csv

# Key Learning: Unit II - SciPy statistics, hypothesis testing
```

### **Notebook 06: Data Normalization and Splitting** (Week 3)
```python
# Content Overview:
- Import StandardScaler from sklearn
- Normalize features (fit_transform)
- Train-test split (80-20, stratified)
- Save X_train, X_test, y_train, y_test
- Save scaler object (pickle)
- Verify split balance

# Key Learning: Unit I - Data preparation for ML
```

### **Notebook 07: Baseline Classification Models** (Week 4-5)
```python
# Content Overview:
- Logistic Regression
- k-Nearest Neighbors (k=5)
- NaÃ¯ve Bayes (GaussianNB)
- Support Vector Machine (kernel='rbf')
- Model training and prediction
- Accuracy, confusion matrix, classification report
- Save all baseline models
- Create comparison table

# Key Learning: Unit III - Supervised classification algorithms
```

### **Notebook 08: Decision Tree Classifier** (Week 5)
```python
# Content Overview:
- Build Decision Tree (max_depth=10)
- Hyperparameter tuning (GridSearchCV)
- Feature importance extraction
- Visualize tree structure
- Plot feature importance bar chart
- Save decision_tree.pkl

# Key Learning: Unit IV - Decision Trees
```

### **Notebook 09: Random Forest Classifier** (Week 6)
```python
# Content Overview:
- Build Random Forest (n_estimators=100)
- GridSearchCV for optimization
- 5-fold cross-validation
- Feature importance analysis
- Out-of-bag score
- Save random_forest.pkl

# Key Learning: Unit IV - Random Forests, ensemble learning
```

### **Notebook 10: XGBoost and LightGBM** (Week 6)
```python
# Content Overview:
- Build XGBoost classifier
- Build LightGBM classifier
- Hyperparameter tuning for both
- Performance comparison
- ROC-AUC curves
- Save xgboost_model.pkl, lightgbm_model.pkl

# Key Learning: Unit IV - Advanced ensemble methods
```

### **Notebook 11: Stacking Ensemble Model** (Week 7)
```python
# Content Overview:
- Create StackingClassifier
- Base estimators: Random Forest, XGBoost, LightGBM
- Meta-learner: Logistic Regression
- Train stacking model
- Final evaluation (target: >98% accuracy)
- Save stacking_ensemble.pkl (FINAL MODEL)

# Key Learning: Unit IV - Stacking ensemble
```

### **Notebook 12: Model Comparison and Selection** (Week 7)
```python
# Content Overview:
- Load all saved models
- Compare accuracy, precision, recall, F1-score
- ROC-AUC curves for all models
- Confusion matrices side-by-side
- Select best model (Stacking Ensemble)
- Create model_comparison.csv
- Generate comparison visualizations

# Key Learning: Unit III - Model evaluation
```

### **Notebook 13: Explainable AI with SHAP** (Week 8-9)
```python
# Content Overview:
- Install SHAP library
- Load best model (Stacking Ensemble)
- Create TreeExplainer
- Generate SHAP values for test set
- Create visualizations:
  * SHAP waterfall plot (single prediction)
  * SHAP summary plot (all features)
  * SHAP force plot (interactive)
  * SHAP dependence plots
- Interpret feature contributions
- Save shap_explainer.pkl

# Key Learning: Beyond syllabus - Explainable AI
```

### **Notebook 14: Economic Viability Analysis** (Week 9-10)
```python
# Content Overview:
- Load crop_prices.csv
- Build profit calculator function
- Calculate ROI: (Expected_Yield Ã— Market_Price - Input_Costs) / Input_Costs
- Risk scoring (price volatility analysis)
- Cost-benefit analysis for each crop
- Rank crops by profitability
- Save economic_analysis.csv

# Key Learning: Beyond syllabus - Economic modeling
```

### **Notebook 15: Crop Rotation Planning** (Week 10-11)
```python
# Content Overview:
- Load rotation_rules.csv
- Build rule-based recommendation engine
- Multi-season planning algorithm:
  * Season 1: Recommended crop
  * Season 2: Compatible rotation crop
  * Season 3: Soil recovery crop
- Soil nutrient depletion/addition tracking
- Sustainability score calculation
- Save rotation planning functions

# Key Learning: Beyond syllabus - Rule-based AI
```

### **Notebook 16: Final Pipeline and Export** (Week 11)
```python
# Content Overview:
- Load all components (model, scaler, explainer)
- Create end-to-end prediction pipeline
- Test with sample inputs
- Validate all outputs:
  * Crop prediction
  * SHAP explanation
  * Economic analysis
  * Rotation plan
- Export deployment-ready files
- Generate metadata (feature names, crop labels)

# Key Learning: Integration and deployment preparation
```

***

## **Flask Web Application Structure (.py files only)**

### **app.py** (Main Application)
```python
"""
Main Flask Application
- Initialize Flask app
- Define all routes
- Load models on startup
- Run development server
"""

from flask import Flask, render_template, request, jsonify
import pickle
import numpy as np
from utils import load_all_models, validate_input
from prediction import predict_crop
from explainability import generate_shap_explanation
from economic import calculate_roi
from rotation import get_rotation_suggestions

app = Flask(__name__)

# Routes:
# @app.route('/')           - Home page
# @app.route('/predict')    - Crop prediction
# @app.route('/explain')    - SHAP explanations
# @app.route('/economic')   - Economic analysis
# @app.route('/rotation')   - Rotation planning
# @app.route('/compare')    - Compare crops
```

### **utils.py** (Utility Functions)
```python
"""
Utility Functions
- load_all_models(): Load pickle files
- validate_input(): Check input ranges
- prepare_features(): Scale and transform
- format_output(): Format predictions
"""
```

### **prediction.py** (Prediction Logic)
```python
"""
Crop Prediction Module
- predict_crop(): Main prediction function
- get_top_n_crops(): Return ranked suggestions
- confidence_scores(): Calculate probabilities
"""
```

### **explainability.py** (XAI Logic)
```python
"""
Explainability Module
- generate_shap_explanation(): Create SHAP values
- create_shap_plots(): Generate visualizations
- feature_contribution_text(): Human-readable explanations
"""
```

### **economic.py** (Economic Analysis)
```python
"""
Economic Analysis Module
- calculate_roi(): ROI calculation
- get_market_prices(): Fetch current prices
- cost_benefit_analysis(): Compare costs vs profits
- rank_by_profitability(): Sort crops by profit
"""
```

### **rotation.py** (Rotation Planning)
```python
"""
Crop Rotation Module
- get_rotation_suggestions(): Load rotation rules
- plan_multiseason(): 3-season planning
- calculate_soil_impact(): Nutrient tracking
- sustainability_score(): Environmental rating
"""
```

***

## **Semester-Friendly Implementation Timeline (14 Weeks)**

### **Phase 1: Jupyter Notebooks - Data Science (Weeks 1-7)**

| Week | Notebooks | Syllabus Unit | Deliverable |
|------|-----------|---------------|-------------|
| 1 | 01, 02 | Unit I | Cleaned dataset |
| 2 | 03 | Unit II | EDA report (10+ visualizations) |
| 3 | 04, 05, 06 | Unit I, II | Engineered features, statistical analysis |
| 4 | 07 | Unit III | Baseline models (Logistic, KNN, SVM, NB) |
| 5 | 08 | Unit IV | Decision Tree model |
| 6 | 09, 10 | Unit IV | Random Forest, XGBoost, LightGBM |
| 7 | 11, 12 | Unit IV | Stacking Ensemble (BEST MODEL) |

### **Phase 2: Jupyter Notebooks - Advanced Features (Weeks 8-11)**

| Week | Notebooks | Focus | Deliverable |
|------|-----------|-------|-------------|
| 8-9 | 13 | XAI | SHAP explainer + visualizations |
| 9-10 | 14 | Economic | ROI calculator + price analysis |
| 10-11 | 15 | Rotation | Multi-season planner |
| 11 | 16 | Integration | Final pipeline + exported models |

### **Phase 3: Flask Web Application (Weeks 12-13)**

| Week | Files | Tasks | Deliverable |
|------|-------|-------|-------------|
| 12 | app.py, utils.py, prediction.py | Backend development, routes, model integration | Working Flask API |
| 13 | explainability.py, economic.py, rotation.py, templates/, static/ | Frontend, dashboards, visualizations | Complete web app |

### **Phase 4: Documentation & Testing (Week 14)**

| Week | Tasks | Deliverable |
|------|-------|-------------|
| 14 | Testing, README, report writing, presentation | Final submission package |

***

## **Installation & Setup**

### **requirements.txt**
```txt
# Core
flask==3.0.0
gunicorn==21.2.0

# Jupyter
jupyter==1.0.0
notebook==7.0.6
ipywidgets==8.1.1

# Data Science (Unit I)
pandas==2.1.0
numpy==1.24.3

# Visualization (Unit II)
matplotlib==3.7.2
seaborn==0.12.2
plotly==5.16.1

# Statistics (Unit II)
scipy==1.11.2

# Machine Learning (Unit III, IV)
scikit-learn==1.3.0
xgboost==1.7.6
lightgbm==4.0.0

# Explainability
shap==0.42.1

# Utilities
joblib==1.3.2
openpyxl==3.1.2
```

### **Quick Start Commands**
```bash
# Create project directory
mkdir crop-recommendation-system
cd crop-recommendation-system

# Create virtual environment
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt

# Start Jupyter for ML work
jupyter notebook

# After completing all notebooks, run Flask app
cd webapp
python app.py
```

***

## **Project Deliverables**

### **ML Deliverables (Jupyter Notebooks)**
1. âœ… 16 Jupyter Notebooks covering all units
2. âœ… Trained models (9 models + 1 final ensemble)
3. âœ… SHAP explainer and visualizations
4. âœ… Economic analysis module
5. âœ… Crop rotation planner
6. âœ… Model comparison report

### **Web Application Deliverables (Flask .py files)**
7. âœ… Flask web application (6 Python files)
8. âœ… Interactive dashboards (5 HTML templates)
9. âœ… Responsive UI (Bootstrap 5)
10. âœ… API endpoints for all features

### **Documentation**
11. âœ… Comprehensive README
12. âœ… Project report (30-40 pages)
13. âœ… Presentation (15-20 slides)
14. âœ… Demo video (5-7 minutes)

***

## **Innovation Highlights**

1. âœ… **Notebook-Driven Development** - Pure Jupyter for ML (semester-friendly)
2. âœ… **XAI Integration** - First crop system with SHAP
3. âœ… **Economic Analysis** - ROI-based recommendations
4. âœ… **Multi-Season Planning** - Sustainability focus
5. âœ… **Stacking Ensemble** - Advanced ML beyond papers
6. âœ… **Clean Separation** - Notebooks (.ipynb) for ML, Python (.py) for web only

